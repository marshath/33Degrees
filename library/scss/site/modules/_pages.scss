/*
 *
 * PAGE STYLES
 *
 */


/*******************************
GENERAL
*******************************/
.row {
	position: relative;
	@include clearfix;
}

.panel__projects1, .panel__about1 {
	background: #cfe1e5;
}
.panel__projects2, .panel__about2 {
}
.panel__projects3, .panel__about3 {
	background-color: brand-color('gray1');
}
.panel__projects4, .panel__about4 {
}


/* FLEXBOX ROW WRAPS */
.services, .quotes, .projects {
	padding:0;
	text-align: center;
	display: flex;
	flex-flow: row wrap;
	align-items: stretch;
	align-content: space-between;
	justify-content: space-around;
	li {
		list-style: none;
		flex-grow: 1;
	}
}
@include bp('tablet-v') {
	.services {
		p, h3 {
			width:66%;
			float: right;
		}
		svg {
			width:33%;
			float: left;
		}
	}
}
@include bp('tablet-h') {
	.projects li {
		width: 33%;
	}
}
@include bp('laptop') {
	.services {
		li {
			width: 33%;
			padding:0 1em;
		}
		p, h3 { // overrides the tablet-v styles
			width:100%;
			float: none;
		}
		svg { // overrides the tablet-v styles
			width:100%;
			float: none;
		}
	}
}
@include bp('television') {
	.projects li {
		width: 10%;
	}
}

/*******************************
HOMEPAGE SECTIONS
*******************************/
.hm-splash {
	background-color: brand-color('secondary'); // fallback for gradient
	background-image: linear-gradient(to bottom, brand-color('secondary') 0%, #1c526c 50%, #00a7bf 100%);
	color: brand-color('white');
	.cta { //splash text
		width:100%;
		text-align: center;
		@include font-size(18);
		position: relative;
		z-index: 1;
	}
	.lady { // splash svg image
		display: block;
		position:relative;
		z-index: 0;
		top: baseline(0.5);
		&:hover {
			.lightrays {
				animation: spin 2s linear infinite;
			}
		}
	}
	.lightrays { // svg splash image background
		transform-origin: center center;
		// animation: spin 10s linear infinite;
	}
	ul {
		width:intrinsic;
		background-color: brand-color('primary'); // fallback for gradient
		background-image: linear-gradient(to bottom, #ea6115 10%, #d53f15 90%);
		@include border-radius(2);
		box-shadow: inset 0 0 0.4em brand-color-alpha('white', 'light'), 0 0.3em 0.4em brand-color-alpha('black', 'dark');
		margin: 0 auto baseline(1);
		padding: 0;
		list-style: none;
		overflow: hidden;
		display: flex;
		flex-direction: row nowrap;
		li:last-child {
			border-left:1px dotted brand-color-alpha('white', 'dark');
		}
		a {
			color: brand-color('white');
			text-decoration: none;
			text-shadow:0 2px 1px black;
			font-weight:bold;
			display: block;
			padding: baseline(0.75) 2em;
			&:hover {
				background-color: brand-color-darken('primary',2);
				background-image: linear-gradient(to bottom, #da5105 10%, #c52f05 90%);
			}
		}
	}
	@include bp('tablet-v') { // Tablet viewport
		.cta {
			width:50%;
			position:absolute;
			top:0;
			right: 10%;
		}
		.lady {
			width:50%;
		}
		
	}
}

.hm-services {
	background-color: brand-color-darken('secondary',2);
	background-image: linear-gradient(to right, brand-color('secondary') 10%, #1c526c 50%, brand-color('secondary') 90%);
	color: brand-color('white');
	box-shadow: inset 0 10px 200px black;
	.entry-content { // moving background animation
		// background-image: repeating-linear-gradient(-45deg, rgba(0,0,0,0), rgba(0,0,0,0) 4px, rgba(0,0,0,0.3) 4px, rgba(0,0,0,0.3) 16px);
		// background-size: 110%;
		// background-position-x: 12px;
		margin:0;
		width:100%;
		height:100%;
		display: block;
		// animation : stripesBG 6s linear infinite;
		z-index:0;
		position:relative;
	}
	h2, h4 {
		font-weight: normal;
		text-align: center;
	}
	h2, h3 {
		text-shadow: 0 2px 2px brand-color('black');
	}
	@include bp('tablet-v') {
		p, h3 {
			text-align:left;
		}
	}
	@include bp('laptop') {
		p, h3 {
			text-align:center; // override tablet view
		}
		.services {
			margin: 0 auto;
		}
	}
}

.hm-blog {
	background: url('../images/paper.jpg') repeat #f8f8f3;
	text-align: center;
	padding-bottom: baseline(1);
	h2, h4 {
		font-weight: normal;
	}
	.overlay-links {
		figure {
			border: 0.5em solid brand-color('white');
			box-shadow: 4px 10px 1em brand-color-alpha('black','dark');
		}
		figcaption { // override .overlay-links figcaption
			@include font-size(20);
			bottom: -(baseline(0.75));
			line-height: baseline(0.75);
		}
		.moretag__slide {
			font-size:1rem; // reduces font size
		}
	}
	@include bp('tablet-v') {
		.overlay-links {
			flex-flow: row nowrap;
		}
		li {
			width: 48%;
		}
	}
}

	
/*******************************
TESTIMONIALS PANEL
*******************************/
.testimonials {
	margin:0 auto;
	h2 {
		text-align: center;
		font-style: italic;
	}
	li {
		display:none;
		&:first-child {
			display: block;
		}
	}
}

.quotes {
	position: relative;
	&:before, &:after {
		content: ''; // quotes from the SVG sprite sheet in images
		width:48px;
		height:48px;
		background-image: url('../images/icon-quote.svg'); // quote SVG above and below the testimonials
		background-size: 100% 100%; // makes the quotes size to 100% width and height
		display: block;
		position: absolute;
	}
	&:before {
		left: 0;
		z-index: 0; // sets the quote SVG below the blockquote
	}
	&:after {
		right: 0;
		bottom: 0;
		margin-bottom: baseline(2.5);
		transform: rotate3d(0,0,1,180deg); // rotates the quote SVG to upside down
		z-index: 0; // sets the quote SVG below the blockquote
	}
	blockquote {
		position: relative; // sets the testimonial above the quotes
		z-index: 1; // sets the testimonial above the quotes
		border: none;
	}
	cite {
		color: brand-color('gray2');
	}
}


/*******************************
NEWSLETTER PANEL
*******************************/
.newsletter {
	background: brand-color('accent');
	.icon-inbox {
		height:96px;
		width:20%;
		min-width: 64px;
		max-width: 160px;
		background: brand-color('accent');
		padding:0.25em;
		margin: (- baseline(1.5)) auto (- baseline(1.5));
		display: block;
		border-radius: 50%;
	}
	svg { // inbox icon at top of newsletter panel
		height:60%;
		width:60%;
		display: block;
		margin:baseline(0.5) auto;
	}
	h2, p {
		margin-bottom: 0; // set the next line closer
		font-style: italic;
		text-align: center;
	}
	input[type='email'] {
		width:100%;
		border: 1px solid brand-color('accent'); // fix for 1px white below subscribe button
	}
	@include bp('mobile-h') {
		.icon-inbox { // move inbox icon above the newsletter panel
			width: 160px;
			height: 80px;
			margin-top: - baseline(1.5);
		}
	}
}



/*******************************
PROJECTS
*******************************/
.panel__projects2, .panel__projects3, .panel__projects4 {
	@include bp('phone-h') {
		.overlay-links {
			flex-flow: row wrap;
		}
		li {
			width:48%;
			margin-left:1%;
			margin-right:1%;
		}
	}
	@include bp('tablet-v') {
		li {
			width:31%;
		}
	}
}


/*******************************
ABOUT
*******************************/


/*******************************
BLOG
*******************************/

.blog, .archive, .search-results { // index, blog archive, blog search formatting
	article {
		display: flex;
		flex-direction: column;
		flex-wrap: nowrap;
		padding-top: baseline(1); // adds top spacing from border
		border-bottom: 2px solid brand-color-lighten('gray3', 5);
		border-top: 2px solid white;
		&:first-child {
			border-top:none; // remove border from first child
		}
	}
	@include bp('tablet-h') {
		article {
			flex-direction: row; // changes flexbox orientation
		}
		.post-wrap {
			width: 62%;
			margin-left: 3%;
			
		}
		figure {
			width:35%;
			margin-bottom: baseline(1); // adds spacing below figure when viewport is tablet or higher
		}
	}
	@include bp('laptop') {
		.post-wrap {
			width: 57%;
			margin-left: 3%;
			
		}
		figure {
			width:40%;
		}
	}
}

.blog-categories {
	width: intrinsic;
	display: block;
	margin: 0 auto;
	h3 {
		color: brand-color('gray2');
		@include font-size(16);
		font-weight: normal;
		text-align: center;
	}
	ul {
		list-style: none;
		padding-left: 1em;
		margin-bottom: baseline(1.5);
		display: flex;
		flex-direction: row;
		justify-content: center;
		flex-wrap: wrap;
		line-height: 2.5;
	}
	li a {
		@extend .btn__alt;
		padding: 0.5em;
		margin-right: 0.5em;
	}
	@include bp('tablet-h') {
		h3 {
			float:left;
			display: inline-block;
		}
		ul {
			justify-content: flex-start;
		}
	}
}

.attachment-post-thumbnail {
	margin-top:baseline(1);
}

.article-footer {
	svg { // icon size for blog header
		width:16px;
		height:16px;
		margin-left:0.5em;
		fill: brand-color('primary');
		&:hover {
			fill: brand-color('text');
		}
	}
}

.single {
	.article-header { // center the title
		text-align: center;
	}
	figure {
	}
	.entry-content { // blog text indenting
		h2, h3, p, ul {
			max-width: 980px;
			margin-right: auto;
			margin-left: auto;
		}
	}
}

/* .blog-wrap {
	h2, h3, p, ul, .vcard { // blog text indenting
		margin-right:3%;
		margin-left:3%;
		@include bp('tablet-v') {
			margin-right:5%;
			margin-left:5%;
		}
		@include bp('tablet-h') {
			margin-right:7%;
			margin-left:7%;
		}
		@include bp('laptop') {
			margin-right:10%;
			margin-left:10%;
		}
	}
} */

h1.entry-title {
	margin-top:0;
	margin-bottom: baseline(0.25);
	font-weight: normal;
	@include font-size(36);
	a {
		text-decoration: none;
		&:hover {
			text-decoration: underline;
		}
	}
}

.entry-header {
	margin-top: baseline(1); // adds spacing from featured image at the top
	margin-bottom: baseline(0.5); // removes p bottom spacing
}
.author-header {
	margin: baseline(0.5) auto baseline(1);
}
.single-title {
	margin-top: 0; // removes h1 top spacing
	margin-bottom: 0; // removes h1 top spacing
}


// AUTHOR IMAGE
.author-box { // white border and shadow
	border: 4px solid white;
	box-shadow: 0 2px 4px rgba(0,0,0,0.15);
}
.author-pic, .author-img {
	@include border-radius(10);
	overflow: hidden;
	display: inline-block;
}
.author-pic {
	width: 50px;
	height: 50px;
	vertical-align: middle;
}
.author-img {
	width: 100px;
	height: 100px;
	float: left;
	margin-right: 1em;
	vertical-align: top;
}


.tags {
	margin-top: 0; // bottom spacing for About the Author
	margin-bottom: baseline(1.25); // bottom spacing for About the Author
	line-height: 2.5; // line spacing for tag links on mobile
	text-align: center; // center tags under article
	&-title {
		font-weight: bold;
	}
	a {
		@extend .btn__alt;
		padding: baseline(0.25) 0.5em;
	}
}

// BLOG ARCHIVE LIST
.block-thumb {
	.b-inner {
		// @include clearfix;
	}
	.b-thumb {
		// @include column(3);
	}
	.b-text {
		// @include column(9);
	}
	.b-title {
		
	}
}

.block-headline {
	text-decoration: none;
}

.block-hero {
	.b-thumb {
		// @include column(12);
	}
}

.block-inset {
	.b-thumb {
		
	}
	.b-text {
	}
}


// AUTHOR INFORMATION
.byline { 
}

.vcard {
	max-width:700px;
	background-color: brand-color-lighten('gray3', 5);
	padding: baseline(0.5) 1em baseline(1);
	margin: 0 auto baseline(2); // center vcard and add margin to the bottom
	h3 {
		margin-top: baseline(4);
	}
	p:last-child{
		margin-bottom: 0; // removes extra spacing at the bottom of author vcard
	}
	svg {
		width:20px;
		height:20px;
		vertical-align: middle;
	}
}
